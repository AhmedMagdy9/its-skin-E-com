<div class="  px-6">
  <h1 class="text-3xl font-bold text-center mb-8 text-blue-900">ğŸ›’ Cart</h1>

  @if (cartItems.length === 0) {
    <div class="text-center text-[#4A70A9]">
      Ù…ÙÙŠØ´ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„ÙƒØ§Ø±Øª Ø¯Ù„ÙˆÙ‚ØªÙŠ ğŸ˜…
    </div>
  }

  @if (cartItems.length > 0) {
    <div class="space-y-4">
      @for  (item of cartItems(); track item.id)  {
        <div class="bg-white p-4 rounded-2xl shadow flex items-center justify-between">
          <div>
            <h2 class="font-semibold text-lg">{{ item.name }}</h2>
            <p class="text-[#4A70A9]">Ø§Ù„Ø³Ø¹Ø±: {{ item.price }} EGP</p>
          </div>

          <div class="flex items-center gap-3">
            <input type="number" min="1" [value]="item.quantity" (change)="updateQuantity(item.id, $event)" class="w-16 border rounded px-2 text-center"/>
            <button (click)="removeItem(item.id)" class="text-red-500 cursor-pointer hover:text-red-700">ğŸ—‘ï¸</button>
          </div>
        </div>
      } <!-- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ @for -->

      <div class="flex justify-between items-center mt-6 border-t pt-4">
        <h2 class="text-xl font-bold">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {{ getTotal() }} EGP</h2>
        <button (click)="clearCart()"  class="bg-[#4A70A9] cursor-pointer text-white px-4 py-2 rounded hover:bg-[#4A70A9]" >
          ØªÙØ±ÙŠØº Ø§Ù„ÙƒØ§Ø±Øª
        </button>
      </div>
    </div>
  } <!-- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ @if (cartItems.length > 0) -->
</div>

<div class=" min-h-screen flex items-center justify-center bg-main py-10 px-6">
  <div class="bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-8 w-full max-w-md border border-rose-100">
    <h2 class="text-2xl font-bold text-center text-[#4A70A9] mb-6">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h2>

    <form [formGroup]="orderForm" (ngSubmit)="submitOrder()" class="space-y-5">

      <!-- ğŸ§ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
      <div>
        <label class="block text-[#8FABD4] mb-2 font-medium">Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
        <input
          type="text"
          formControlName="customerName"
          placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„"
          class="w-full rounded-xl border border-rose-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-200 outline-none p-3 text-gray-700"
        />
        @if (orderForm.get('customerName')?.touched && orderForm.get('customerName')?.invalid) {
          <p class="text-red-500 text-sm mt-1">Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨ ÙˆÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</p>
        }
      </div>

      <!-- ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ -->
      <div>
        <label class="block text-[#8FABD4] mb-2 font-medium">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input
          type="text"
          formControlName="phone"
          placeholder="01xxxxxxxxx"
          class="w-full rounded-xl border border-rose-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-200 outline-none p-3 text-gray-700"
        />
        @if (orderForm.get('phone')?.touched && orderForm.get('phone')?.invalid) {
          <p class="text-red-500 text-sm mt-1">Ø¨Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­</p>
        }
      </div>

      <!-- ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
      <div>
        <label class="block text-[#8FABD4] mb-2 font-medium">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
        <textarea
          formControlName="address"
          rows="3"
          placeholder="Ø§ÙƒØªØ¨ Ø¹Ù†ÙˆØ§Ù†Ùƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„"
          class="w-full rounded-xl border border-rose-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-200 outline-none p-3 text-gray-700 resize-none"
        ></textarea>
        @if (orderForm.get('address')?.touched && orderForm.get('address')?.invalid) {
          <p class="text-red-500 text-sm mt-1">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ø·Ù„ÙˆØ¨</p>
        }
      </div>

      <!-- ğŸ©· Ø§Ù„Ø²Ø± -->
      <button type="submit" class="w-full cursor-pointer bg-[#8FABD4] text-white font-semibold py-3 rounded-xl shadow-md hover:bg-[#4A70A9] transition-all duration-200" >
        ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
      </button>
    </form>
  </div>
</div>
